<?php

// @codingStandardsIgnoreFile

/** @var $block \2023HK\Optimus\Block\Opengraph\General */

$metaTitle = $block->getMetaTitle();
$metaDescription = $block->getMetaDescription();

/** @var Zend\Uri\Http $uri */
$uri = $this->getRequest()->getUri();
$ogUrl = $uri->getScheme() . '://' . $uri->getHost() . $this->getRequest()->getRequestUri();
$ogLocale = $block->getOgLocale();
$ogSiteName = $block->getOgSiteName();
$ogType = $block->getOgType();

$ogImageUrl = $block->getOgImageUrl();
$ogImageType = $block->getOgImageType();
$ogImageDimensions = $block->getOgImageDimensions(); // 0 = width, 1 = height;

$fbAppId = $block->getFbAppId();

?>

<meta name="twitter:card" content="summary" />

<?php if (!empty($fbAppId)): ?>
    <meta property="fb:app_id" content="<?php echo $fbAppId ?>" />
<?php endif; ?>

<meta property="og:locale" content="<?php echo $ogLocale ?>" />
<meta property="og:type" content="<?php echo $ogType ?>" />

<?php if (!empty($metaTitle)): ?>
    <meta property="og:title" content="<?php echo $metaTitle; ?>" />
<?php endif; ?>

<?php if (!empty($metaDescription)): ?>
    <meta property="og:description" content="<?php echo $metaDescription; ?>" />
<?php endif; ?>

<meta property="og:url" content="<?php echo $ogUrl; ?>" />
<meta property="og:site_name" content="<?php echo $ogSiteName ?>" />

<meta property="og:image" content="<?php echo $ogImageUrl; ?>" />
<meta property="og:image:secure_url" content="<?php echo $ogImageUrl; ?>" />
<meta property="og:image:type" content="<?php echo $ogImageType; ?>" />
<meta property="og:image:width" content="<?php echo $ogImageDimensions[0]; ?>" />
<meta property="og:image:height" content="<?php echo $ogImageDimensions[1]; ?>" />
